<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Character Profile | Northern Attitude</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/enhanced-styles.css">
    <link rel="stylesheet" href="https://use.typekit.net/eat5uwv.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">northern<span>attitude</span></div>
            <nav>
                <ul>
                    <li><a href="dash.html">Dashboard</a></li>
                    <li><a href="my-characters.html">Players</a></li>
                    <li><a href="teams.html">Teams</a></li>
                    <li><a href="#">Games</a></li>
                    <li><a href="#">Stats</a></li>
                </ul>
            </nav>
            <div class="user-container">
                <span id="username-display" class="username-display"></span>
                <span> | </span>
                <a href="#" id="logout-link" class="logout-link">Log Out</a>
            </div>
        </div>
    </header>

    <!-- Enhanced Character Name Banner -->
    <div class="name-banner">
        <div class="background" style="background-color: var(--bg);">
            <div class="name" id="banner-character-name">Character Name</div>
            <div class="jersey-number" id="jersey-number">00</div>
        </div>
    </div>
    
    <main>
        <div class="container">
            <div class="content-header">
                <h2 id="page-title">Character Profile</h2>
                <a href="my-characters.html" class="btn btn-secondary">Back to My Characters</a>
            </div>
            
            <div id="character-profile-error" class="auth-error" style="display: none;"></div>
            <div id="character-profile-success" class="auth-success" style="display: none;"></div>
            
            <!-- Tab Navigation -->
            <div id="tab-container">
                <div class="tabs">
                    <button class="tab active" onclick="openTab('profile')">Profile</button>
                    <button class="tab" onclick="openTab('stats')">Statistics</button>
                    <button class="tab" onclick="openTab('games')">Games</button>
                    <button class="tab" onclick="openTab('bio')">Biography</button>
                </div>
            </div>

            <!-- Profile Tab Content -->
            <div id="profile" class="tab-content active">
                <div class="content-wrapper">
                    <!-- Profile Sidebar -->
                    <div class="profile-sidebar">
                        <div class="character-avatar">
                            <img id="character-avatar" src="/api/placeholder/150/150" alt="Character avatar">
                        </div>
                        <h2 class="character-name" id="sidebar-character-name">Character Name</h2>
                        <div class="character-position" id="character-position">Position</div>
                        <div class="character-team" id="character-team">Team Name</div>
                        <div class="character-status" id="character-status">Status</div>
                        
                        <!-- Player Statistics Block -->
                        <div class="stat-block">
                            <h4>Player Statistics</h4>
                            <div class="stat-grid" id="main-stats">
                                <!-- Stats will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <!-- Position-specific Stats Block -->
                        <div class="stat-block" id="position-stats-block">
                            <h4 id="position-stats-title">Position Stats</h4>
                            <div class="stat-grid" id="position-stats">
                                <!-- Position-specific stats will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="action-buttons">
                            <a href="#" id="edit-character-link" class="btn btn-primary">Edit Character</a>
                            <button id="delete-character-btn" class="btn btn-danger">Delete</button>
                            <button id="set-active-btn" class="btn btn-secondary" style="display: none;">Set Active</button>
                        </div>
                    </div>
                    
                    <!-- Character Info Content -->
                    <div class="character-info">
                        <div class="info-section">
                            <h2 id="about-heading">About Character</h2>
                            <div class="character-bio" id="character-bio">
                                <!-- Bio will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <hr class="section-divider">
                        
                        <!-- Career Highlights Section -->
                        <div class="info-section">
                            <h2>Career Highlights</h2>
                            <div class="stats-highlight" id="career-highlights">
                                <!-- Career highlights will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Statistics Tab Content -->
            <div id="stats" class="tab-content">
                <h2>Season Statistics</h2>
                <table class="roster-table" id="stats-table">
                    <thead>
                        <tr id="stats-header-row">
                            <!-- Stats table headers will be populated by JavaScript -->
                        </tr>
                    </thead>
                    <tbody id="stats-body">
                        <!-- Stats rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <!-- Games Tab Content -->
            <div id="games" class="tab-content">
                <h2>Recent Games</h2>
                <div class="games-list" id="recent-games">
                    <!-- Recent games will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- Biography Tab Content -->
            <div id="bio" class="tab-content">
                <div class="biocon" id="full-bio">
                    <!-- Full biography will be populated by JavaScript if available -->
                </div>
            </div>
            
            <!-- Delete Confirmation Modal -->
            <div id="delete-modal" class="delete-modal">
                <div class="modal-content">
                    <h3 class="modal-title">Delete Character?</h3>
                    <p class="modal-message">Are you sure you want to delete this character? This action cannot be undone.</p>
                    <div class="modal-buttons">
                        <button id="cancel-delete" class="btn btn-secondary">Cancel</button>
                        <button id="confirm-delete" class="btn btn-danger">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 Northern Attitude Hockey Roleplay. All rights reserved.</p>
        </div>
    </footer>

    <script src="../js/auth-utils.js"></script>
    <script src="../js/character-profile.js"></script>
    
    <!-- Tab Switching JavaScript -->
    <script>
        function openTab(tabName) {
            // Hide all tab content
            var tabContents = document.getElementsByClassName('tab-content');
            for (var i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }
            
            // Remove active class from all tabs
            var tabs = document.getElementsByClassName('tab');
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
            }
            
            // Show the specific tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to the button that opened the tab
            event.currentTarget.classList.add('active');
        }
    </script>
</body>
</html>