<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Character Profile | Northern Attitude</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="https://use.typekit.net/eat5uwv.css">
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">northern<span>attitude</span></div>
            <nav>
                <ul>
                    <li><a href="dash.html">Dashboard</a></li>
                    <li><a href="my-characters.html">Players</a></li>
                    <li><a href="teams.html">Teams</a></li>
                    <li><a href="#">Games</a></li>
                    <li><a href="messages.html">Messages</a></li>
                </ul>
            </nav>
            <div class="user-container">
                <span id="username-display" class="username-display"></span>
                <span> | </span>
                <a href="#" id="logout-link" class="logout-link">Log Out</a>
            </div>
        </div>
    </header>

    <!-- Enhanced Character Name Banner with Header Image Support -->
    <div class="name-banner" id="name-banner">
        <div class="overlay"></div>
        <div class="background">
            <div class="name" id="banner-character-name">Character Name</div>
            <div class="jersey-number" id="jersey-number">00</div>
        </div>
    </div>
    
    <main>
        <div class="container">
            <div class="content-header">
                <h2 id="page-title">Character Profile</h2>
                <a href="my-characters.html" class="btn btn-secondary">Back to My Characters</a>
            </div>
            
            <div id="character-profile-error" class="auth-error" style="display: none;"></div>
            <div id="character-profile-success" class="auth-success" style="display: none;"></div>
            
            <!-- Tab Navigation -->
            <div id="tab-container">
                <div class="tabs">
                    <button class="tab active" onclick="openTab('profile')">Profile</button>
                    <button class="tab" onclick="openTab('basics')">Basics</button>
                    <button class="tab" onclick="openTab('stats')">Statistics</button>
                    <button class="tab" onclick="openTab('games')">Games</button>
                    <button class="tab" onclick="openTab('bio')">Biography</button>
                    <button class="tab" onclick="openTab('contactsTab')">Contacts</button>
                </div>
            </div>

            <!-- Profile Tab Content -->
            <div id="profile" class="tab-content active">
                <div class="content-wrapper">
                    <!-- Profile Sidebar -->
                    <div class="profile-sidebar">
                        <div class="character-avatar">
                            <img id="character-avatar" src="/api/placeholder/150/150" alt="Character avatar">
                        </div>
                        <h2 class="character-name" id="sidebar-character-name">Character Name</h2>
                        <div class="character-position" id="character-position">Position</div>
                        <div class="character-team" id="character-team">Team Name</div>
                        <div class="character-status" id="character-status">Status</div>                        
                        <!-- Player Statistics Block -->
                        <div class="stat-block">
                            <h4>Player Statistics</h4>
                            <div class="stat-grid" id="main-stats">
                                <!-- Stats will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <!-- Position-specific Stats Block -->
                        <div class="stat-block" id="position-stats-block">
                            <h4 id="position-stats-title">Position Stats</h4>
                            <div class="stat-grid" id="position-stats">
                                <!-- Position-specific stats will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="action-buttons">
                            <button id="message-character-btn" class="btn btn-secondary">Message Character</button>
                            <a href="#" id="edit-character-link" class="btn btn-primary">Edit Character</a>
                            <button id="delete-character-btn" class="btn btn-danger">Delete</button>
                            <button id="set-active-btn" class="btn btn-secondary" style="display: none;">Set Active</button>
                        </div>
                    </div>
                    
                    <!-- Character Info Content -->
                    <div class="character-info">
                        <div class="info-section">
                            <h2 id="about-heading">About Character</h2>
                            <div class="character-bio" id="character-bio">
                                <!-- Bio will be populated by JavaScript -->
                            </div>
                        </div>
                        
                        <hr class="section-divider">
                        
                        <!-- Career Highlights Section -->
                        <div class="info-section">
                            <h2>Career Highlights</h2>
                            <div class="stats-highlight" id="career-highlights">
                                <!-- Career highlights will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add this after the profile tab content and before stats tab content -->
<div id="basics" class="tab-content">
    <h2>Character Information</h2>
    <div class="basics-container">
        <div class="basics-card">
            <h3>Personal Information</h3>
            <div class="basics-grid">
                <div class="basics-item">
                    <span class="basics-label">Full Name</span>
                    <span class="basics-value" id="basics-full-name">...</span>
                </div>
                <div class="basics-item">
                    <span class="basics-label">Age</span>
                    <span class="basics-value" id="basics-age">...</span>
                </div>
                <div class="basics-item">
                    <span class="basics-label">Date of Birth</span>
                    <span class="basics-value" id="basics-dob">...</span>
                </div>
                <div class="basics-item">
                    <span class="basics-label">Nationality</span>
                    <span class="basics-value" id="basics-nationality">...</span>
                </div>
                <div class="basics-item">
                    <span class="basics-label">Hometown</span>
                    <span class="basics-value" id="basics-hometown">...</span>
                </div>
            </div>
        </div>

        <div class="basics-card">
            <h3>Physical Attributes</h3>
            <div class="basics-grid">
                <div class="basics-item">
                    <span class="basics-label">Height</span>
                    <span class="basics-value" id="basics-height">...</span>
                </div>
                <div class="basics-item">
                    <span class="basics-label">Weight</span>
                    <span class="basics-value" id="basics-weight">...</span>
                </div>
                <div class="basics-item">
                    <span class="basics-label">Shoots/Catches</span>
                    <span class="basics-value" id="basics-handedness">...</span>
                </div>
            </div>
        </div>

        <div class="basics-card">
            <h3>Hockey Information</h3>
            <div class="basics-grid">
                <div class="basics-item">
                    <span class="basics-label">Jersey Number</span>
                    <span class="basics-value" id="basics-jersey">...</span>
                </div>
                <div class="basics-item">
                    <span class="basics-label">Position</span>
                    <span class="basics-value" id="basics-position">...</span>
                </div>
                <div class="basics-item">
                    <span class="basics-label">Team</span>
                    <span class="basics-value" id="basics-team">...</span>
                </div>
                <div class="basics-item">
                    <span class="basics-label">Years Professional</span>
                    <span class="basics-value" id="basics-years-pro">...</span>
                </div>
            </div>
        </div>

        <!-- For non-player types -->
        <div class="basics-card" id="basics-role-section" style="display: none;">
            <h3>Role Information</h3>
            <div class="basics-grid">
                <div class="basics-item">
                    <span class="basics-label">Role</span>
                    <span class="basics-value" id="basics-role">...</span>
                </div>
                <div class="basics-item">
                    <span class="basics-label">Organization</span>
                    <span class="basics-value" id="basics-organization">...</span>
                </div>
                <div class="basics-item">
                    <span class="basics-label">Experience</span>
                    <span class="basics-value" id="basics-experience">...</span>
                </div>
            </div>
        </div>
    </div>
</div>
            
            <!-- Statistics Tab Content -->
            <div id="stats" class="tab-content">
                <h2>Season Statistics</h2>
                <table class="roster-table" id="stats-table">
                    <thead>
                        <tr id="stats-header-row">
                            <!-- Stats table headers will be populated by JavaScript -->
                        </tr>
                    </thead>
                    <tbody id="stats-body">
                        <!-- Stats rows will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <!-- Games Tab Content -->
            <div id="games" class="tab-content">
                <h2>Recent Games</h2>
                <div class="games-list" id="recent-games">
                    <!-- Recent games will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- Biography Tab Content -->
            <div id="bio" class="tab-content">
                <div class="biocon" id="full-bio">
                    <!-- Full biography will be populated by JavaScript if available -->
                </div>
            </div>

            <!-- contacts tab -->
            <div id="contactsTab" class="tab-content">
                <div class="contacts-container">
                <h2>Character Contacts</h2>
                <p class="section-intro">
                    Manage how other characters appear in your messages.
                    These settings only affect how you see others in conversations.
                </p>
                
                <div id="contacts-search-container" class="search-container">
                    <input type="text" id="contacts-search" class="form-control" placeholder="Search by character name...">
                    <button id="contacts-search-btn" class="btn btn-secondary">Search</button>
                </div>
                
                <div id="contacts-error" class="auth-error" style="display: none;"></div>
                <div id="contacts-success" class="auth-success" style="display: none;"></div>
                
                <div id="contacts-results" class="contacts-results">
                    <!-- Search results will go here -->
                </div>
                
                <h3 class="subsection-title">Saved Contacts</h3>
                <div id="saved-contacts" class="saved-contacts">
                    <p class="loading-text">Loading your contacts...</p>
                </div>
                
                <!-- Contact Edit Modal -->
                <div id="contact-edit-modal" class="modal" style="display: none;">
                    <div class="modal-content">
                    <h3 class="modal-title">Edit Contact</h3>
                    <div id="contact-form-error" class="auth-error" style="display: none;"></div>
                    
                    <form id="contact-form">
                        <input type="hidden" id="contact-target-id">
                        
                        <div class="form-group">
                        <label for="contact-original-name">Original Name</label>
                        <input type="text" id="contact-original-name" class="form-control" disabled>
                        </div>
                        
                        <div class="form-group">
                        <label for="contact-custom-name">Custom Name</label>
                        <input type="text" id="contact-custom-name" class="form-control" placeholder="How you want to see this character">
                        <p class="form-text">Leave empty to use original name</p>
                        </div>
                        
                        <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                            <label for="contact-custom-image">Custom Image URL</label>
                            <input type="url" id="contact-custom-image" class="form-control" placeholder="https://example.com/your-image.jpg">
                            <p class="form-text">Leave empty to use original avatar</p>
                            </div>
                        </div>
                        <div class="form-col" style="display: flex; align-items: flex-end;">
                            <button type="button" id="preview-contact-btn" class="btn btn-secondary">Preview</button>
                        </div>
                        </div>
                        
                        <div class="image-preview-row">
                        <div class="image-preview-container">
                            <h4>Original</h4>
                            <div class="image-preview">
                            <img id="original-avatar-preview" src="/api/placeholder/80/80" alt="Original avatar">
                            </div>
                        </div>
                        <div class="image-preview-container">
                            <h4>Custom</h4>
                            <div class="image-preview">
                            <img id="custom-avatar-preview" src="/api/placeholder/80/80" alt="Custom avatar">
                            </div>
                        </div>
                        </div>
                        
                        <div class="modal-buttons">
                        <button type="button" id="delete-contact-btn" class="btn btn-danger">Delete Contact</button>
                        <div class="right-buttons">
                            <button type="button" id="cancel-contact-btn" class="btn btn-secondary">Cancel</button>
                            <button type="submit" class="btn btn-primary">Save Contact</button>
                        </div>
                        </div>
                    </form>
                    </div>
                </div>
                </div>
            </div>
            
            <!-- Delete Confirmation Modal -->
            <div id="delete-modal" class="delete-modal" style="display: none;">
                <div class="modal-content">
                    <h3 class="modal-title">Delete Character?</h3>
                    <p class="modal-message">Are you sure you want to delete this character? This action cannot be undone.</p>
                    <div class="modal-buttons">
                        <button id="cancel-delete" class="btn btn-secondary">Cancel</button>
                        <button id="confirm-delete" class="btn btn-danger">Delete</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 Northern Attitude Hockey Roleplay. All rights reserved.</p>
        </div>
    </footer>

    <script src="../js/auth-utils.js"></script>
    <script src="../js/character-profile/index.js" type="module"></script>
    
    <!-- Tab Switching JavaScript -->
    <script>
        function openTab(tabName) {
            // Hide all tab content
            var tabContents = document.getElementsByClassName('tab-content');
            for (var i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }
            
            // Remove active class from all tabs
            var tabs = document.getElementsByClassName('tab');
            for (var i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
            }
            
            // Show the specific tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to the button that opened the tab
            event.currentTarget.classList.add('active');
        }
    </script>
</body>
</html>