<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Character | Northern Attitude</title>
    <link rel="stylesheet" href="../css/styles.css">
    <style>
        .form-container {
            background-color: var(--card-bg);
            border-radius: 4px;
            padding: var(--spacing-md);
            box-shadow: 0 4px 12px var(--shadow);
            margin-bottom: var(--spacing-lg);
        }
        
        .form-section {
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .form-section:last-child {
            border-bottom: none;
            padding-bottom: 0;
        }
        
        .form-section-title {
            font-family: var(--accentfont);
            color: var(--header);
            margin-bottom: var(--spacing-md);
        }
        
        .form-row {
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }
        
        .form-col {
            flex: 1;
        }
        
        .character-avatar-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: var(--spacing-md);
        }
        
        .character-avatar-preview {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid var(--header);
            margin-bottom: var(--spacing-sm);
            background-color: var(--darktext);
        }
        
        .character-avatar-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .avatar-upload {
            position: relative;
            margin-top: var(--spacing-xs);
        }
        
        .avatar-upload .btn {
            position: relative;
            z-index: 1;
        }
        
        .avatar-upload input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
            z-index: 2;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }
        
        .stat-input-group {
            margin-bottom: var(--spacing-sm);
        }
        
        .stat-input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: var(--medium);
            color: var(--lighttext);
        }
        
        .stat-input {
            width: 100%;
            padding: 8px;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            color: var(--lighttext);
            font-size: 1rem;
        }
        
        .stat-input:focus {
            outline: none;
            border-color: var(--header);
        }
        
        .position-select-container {
            margin-bottom: var(--spacing-md);
        }
        
        .position-options {
            display: flex;
            justify-content: space-between;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
        }
        
        .position-option {
            flex: 1;
            text-align: center;
            padding: var(--spacing-sm);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition-fast);
            color: var(--lighttext);
        }
        
        .position-option:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .position-option.selected {
            border-color: var(--header);
            background-color: rgba(90, 128, 149, 0.2);
        }
        
        .position-option-code {
            font-weight: var(--bold);
            font-size: 1.2rem;
            margin-bottom: 5px;
        }
        
        .position-option-name {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .position-description {
            background-color: rgba(0, 0, 0, 0.2);
            padding: var(--spacing-sm);
            border-radius: 4px;
            margin-bottom: var(--spacing-md);
            color: var(--lighttext);
            display: none;
        }
        
        .dynamic-stats-container {
            margin-top: var(--spacing-md);
        }
        
        @media screen and (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: var(--spacing-sm);
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .position-options {
                flex-wrap: wrap;
            }
            
            .position-option {
                flex-basis: 48%;
                margin-bottom: var(--spacing-xs);
            }
        }
        
        @media screen and (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">northern<span>attitude</span></div>
            <nav>
                <ul>
                    <li><a href="dash.html">Dashboard</a></li>
                    <li><a href="#">Players</a></li>
                    <li><a href="#">Teams</a></li>
                    <li><a href="#">Games</a></li>
                    <li><a href="#">Stats</a></li>
                </ul>
            </nav>
            <div class="user-container">
                <span id="username-display" class="username-display"></span>
                <span> | </span>
                <a href="#" id="logout-link" class="logout-link">Log Out</a>
            </div>
        </div>
    </header>
    
    <main>
        <div class="container">
            <div class="content-header">
                <h2 id="form-title">Create New Character</h2>
                <a href="my-characters.html" class="btn btn-secondary">Back to My Characters</a>
            </div>
            
            <div id="character-form-error" class="auth-error" style="display: none;"></div>
            <div id="character-form-success" class="auth-success" style="display: none;"></div>
            
            <div class="form-container">
                <form id="character-form">
                    <!-- Character Basic Info Section -->
                    <div class="form-section">
                        <h3 class="form-section-title">Basic Information</h3>
                        
                        <div class="character-avatar-container">
                            <div class="character-avatar-preview">
                                <img id="avatar-preview" src="/api/placeholder/120/120" alt="Character avatar">
                            </div>
                            <div class="avatar-upload">
                                <button type="button" class="btn btn-secondary">Upload Avatar</button>
                                <input type="file" id="avatar-file" accept="image/*">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="character-name">Character Name</label>
                                    <input type="text" id="character-name" class="form-control" required>
                                    <p class="form-text">Full name of your hockey player</p>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="team-id">Team</label>
                                    <select id="team-id" class="form-control">
                                        <option value="">Not on a team</option>
                                        <!-- Teams will be loaded dynamically -->
                                    </select>
                                    <p class="form-text">Select the team your character plays for</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Position Selection Section -->
                    <div class="form-section">
                        <h3 class="form-section-title">Position</h3>
                        
                        <div class="position-select-container">
                            <div class="position-options">
                                <div class="position-option" data-position="C">
                                    <div class="position-option-code">C</div>
                                    <div class="position-option-name">Center</div>
                                </div>
                                <div class="position-option" data-position="LW">
                                    <div class="position-option-code">LW</div>
                                    <div class="position-option-name">Left Wing</div>
                                </div>
                                <div class="position-option" data-position="RW">
                                    <div class="position-option-code">RW</div>
                                    <div class="position-option-name">Right Wing</div>
                                </div>
                                <div class="position-option" data-position="D">
                                    <div class="position-option-code">D</div>
                                    <div class="position-option-name">Defense</div>
                                </div>
                                <div class="position-option" data-position="G">
                                    <div class="position-option-code">G</div>
                                    <div class="position-option-name">Goalie</div>
                                </div>
                            </div>
                            
                            <div id="position-C-description" class="position-description">
                                Centers are responsible for taking faceoffs, playmaking, and supporting both offense and defense. They typically have strong passing abilities and hockey IQ.
                            </div>
                            <div id="position-LW-description" class="position-description">
                                Left Wingers primarily play on the left side of the ice. They are responsible for scoring, forechecking, and supporting the center and defensemen.
                            </div>
                            <div id="position-RW-description" class="position-description">
                                Right Wingers primarily play on the right side of the ice. They are responsible for scoring, forechecking, and supporting the center and defensemen.
                            </div>
                            <div id="position-D-description" class="position-description">
                                Defensemen are primarily responsible for preventing the opposing team from scoring. They also contribute to offensive plays and quarterback power plays.
                            </div>
                            <div id="position-G-description" class="position-description">
                                Goalies are the last line of defense, responsible for stopping the opposing team from scoring. They require quick reflexes, mental toughness, and positioning skills.
                            </div>
                            
                            <input type="hidden" id="position" name="position" required>
                        </div>
                    </div>
                    
                    <!-- Character Bio Section -->
                    <div class="form-section">
                        <h3 class="form-section-title">Character Background</h3>
                        
                        <div class="form-group">
                            <label for="character-bio">Biography</label>
                            <textarea id="character-bio" class="form-control" rows="6" placeholder="Write your character's background story, playing style, and personality..."></textarea>
                            <p class="form-text">This will be displayed on your character's profile page</p>
                        </div>
                    </div>
                    
                    <!-- Character Stats Section -->
                    <div class="form-section">
                        <h3 class="form-section-title">Player Statistics</h3>
                        
                        <!-- Common stats for all positions -->
                        <div class="stats-grid">
                            <div class="stat-input-group">
                                <label for="stat-games">Games Played</label>
                                <input type="number" id="stat-games" class="stat-input" value="0" min="0">
                            </div>
                            <div class="stat-input-group">
                                <label for="stat-goals">Goals</label>
                                <input type="number" id="stat-goals" class="stat-input" value="0" min="0">
                            </div>
                            <div class="stat-input-group">
                                <label for="stat-assists">Assists</label>
                                <input type="number" id="stat-assists" class="stat-input" value="0" min="0">
                            </div>
                            <div class="stat-input-group">
                                <label for="stat-plus-minus">Plus/Minus</label>
                                <input type="number" id="stat-plus-minus" class="stat-input" value="0">
                            </div>
                            <div class="stat-input-group">
                                <label for="stat-penalties">Penalty Minutes</label>
                                <input type="number" id="stat-penalties" class="stat-input" value="0" min="0">
                            </div>
                            <div class="stat-input-group">
                                <label for="stat-shots">Shots</label>
                                <input type="number" id="stat-shots" class="stat-input" value="0" min="0">
                            </div>
                        </div>
                        
                        <!-- Dynamic stats based on position -->
                        <div id="dynamic-stats-container" class="dynamic-stats-container">
                            <!-- Position-specific stats will be loaded here via JavaScript -->
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" id="submit-btn">Create Character</button>
                </form>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 Northern Attitude Hockey Roleplay. All rights reserved.</p>
        </div>
    </footer>

    <script src="../js/auth-utils.js"></script>
    <script src="../js/character-form.js"></script>
</body>
</html>