<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dashboard | Northern Attitude</title>
        <link rel="stylesheet" href="../css/main.css">
        <link rel="preload" href="https://use.typekit.net/eat5uwv.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://use.typekit.net/eat5uwv.css"></noscript>
    </head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">northern<span>attitude</span></div>
            <nav>
                <ul>
                    <li><a href="dash.html" class="active">Dashboard</a></li>
                    <li><a href="my-characters.html">Players</a></li>
                    <li><a href="teams.html">Teams</a></li>
                    <li><a href="social.html">Social</a></li>
                    <li><a href="messages.html">Messages</a></li>
                </ul>
            </nav>
            <div class="user-container">
                <span id="username-display" class="username-display">player1</span>
                <span> | </span>
                <a href="#" id="logout-link" class="logout-link">Log Out</a>
            </div>
        </div>
    </header>
    
    <main>
        <div class="container dashboard">
            <aside class="sidebar">
                <nav aria-label="Account Navigation">
                    <h3>My Account</h3>
                    <ul>
                        <li><a href="profile.html">My Profile</a></li>
                        <li><a href="my-characters.html">My Characters</a></li>
                        <li><a href="messages.html">Messages <span class="badge" id="message-badge">0</span></a></li>
                        <li><a href="threads.html">Threads</a></li>
                    </ul>
                </nav>
                
                <nav aria-label="Quick Links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="teams.html">Teams Directory</a></li>
                        <li><a href="#">Upcoming Games</a></li>
                        <li><a href="#">Player Directory</a></li>
                        <li><a id="manage-team-link" href="team-management.html?id=1" style="display: none;">Manage My Team</a></li>
                    </ul>
                </nav>
                
                <section aria-label="Recent Activity">
                    <h3>Recent Activity</h3>
                    <div class="activity-list" id="recent-activity-list">
                        <!-- Will be populated by JavaScript -->
                        <p class="loading">Loading recent activity...</p>
                    </div>
                </section>
            </aside>
            
            <div class="content-area">
                <!-- Announcement section with improved semantic markup -->
                <section class="announcements" aria-labelledby="announcement-title">
                    <header class="announcement-header">
                        <div class="announcement-avatar">
                            <img src="/api/placeholder/50/50" alt="Admin Avatar" loading="lazy">
                        </div>
                        <div class="announcement-info">
                            <h3 id="announcement-title">Admin Announcement</h3>
                            <time datetime="2025-03-15">Posted 2 days ago</time>
                        </div>
                    </header>
                    <div class="announcement-content">
                        <p>Welcome to Northern Attitude Hockey League! Our databases are now connected and working properly. You can now view your player data, team statistics, upcoming games, and messages from the league.</p>
                        <p>Make sure to complete your character profiles and join a team before the start of the new season next week!</p>
                    </div>
                    <div class="announcement-actions">
                        <a href="#" class="btn btn-secondary">Read All Announcements</a>
                    </div>
                </section>
                
                <!-- Removed Team Invitations Section -->
                
                <!-- Dashboard Cards with improved layout -->
                <div class="card-grid" role="region" aria-label="Dashboard Statistics">
                    <!-- Four cards with consistent structure -->
                    <article class="dashboard-card" id="characters-card">
                        <h4>My Characters</h4>
                        <p class="loading">Loading character data...</p>
                    </article>
                    
                    <article class="dashboard-card" id="games-card">
                        <h4>Upcoming Games</h4>
                        <p class="loading">Loading game schedule...</p>
                    </article>
                    
                    <article class="dashboard-card" id="team-card">
                        <h4>Team Status</h4>
                        <p class="loading">Loading team data...</p>
                    </article>
                    
                    <article class="dashboard-card" id="messages-card">
                        <h4>Messages</h4>
                        <p class="loading">Loading messages...</p>
                    </article>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 Northern Attitude Hockey Roleplay. All rights reserved.</p>
        </div>
    </footer>

    <script src="../js/auth-utils.js"></script>
    <script src="../js/dash.js"></script>
    <script type="module">
        if (document.querySelector('.dashboard')) {
          import('../js/dash-components.js').then(module => {
            if (module.initDashboardExtras) {
              module.initDashboardExtras();
            }
          });
        }
      </script>
</body>
</html>